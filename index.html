<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ìµœìœ¤ì„ & ì •í¬ìœ¤</title>
  <!-- Open Graph for link preview -->
  <meta property="og:title" content="ìµœìœ¤ì„ & ì •í¬ìœ¤" />
  <meta property="og:description" content="2026ë…„ 6ì›” 27 í† ìš”ì¼ 17:00, ë”ì»¨ë²¤ì…˜ ì‹ ì‚¬. ì†Œì¤‘í•œ ë‹¹ì‹ ì„ ì´ˆëŒ€í•©ë‹ˆë‹¤." />
  <meta property="og:image" content="card.png" />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#111827" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Allura&family=Noto+Serif+KR&family=Playfair+Display&family=IBM+Plex+Sans+KR:wght@300&family=Gowun+Batang&display=swap" rel="stylesheet">
  <!-- Tailwind (Play CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html { scroll-behavior: smooth; }
    table td { height: 40px; vertical-align: middle; }
    .fade-in { animation: fade 1.2s ease both; }
    @keyframes fade { from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:none} }
    @keyframes pulse-glow { 0%,100%{filter:drop-shadow(0 0 6px rgba(242,61,127,0.5))} 50%{filter:drop-shadow(0 0 20px rgba(242,61,127,1))} }
    #day27 { animation: pulse-glow 2s ease-in-out infinite; }
    /* Gallery overlay */
    @keyframes slideInRight { from{transform:translateX(100%)} to{transform:translateX(0)} }
    @keyframes slideOutRight { from{transform:translateX(0)} to{transform:translateX(100%)} }
    #galleryOverlay { transform: translateX(100%); }
    #galleryOverlay.open { animation: slideInRight 0.35s ease forwards; }
    #galleryOverlay.closing { animation: slideOutRight 0.35s ease forwards; }
    /* Lightbox */
    #lightbox { opacity:0; pointer-events:none; transition:opacity 0.25s ease; }
    #lightbox.open { opacity:1; pointer-events:auto; }
    /* Gallery notice bar */
    @keyframes slideDown { from{transform:translateY(-100%);opacity:0} to{transform:translateY(0);opacity:1} }
    @keyframes fadeOut { from{opacity:1} to{opacity:0} }
    #galleryNotice { animation: slideDown 0.4s ease 0.35s both; }
    #devNotice { animation: slideDown 0.4s ease both, fadeOut 0.5s ease 5s forwards; }
    /* Music toggle */
    #musicBtn { position:fixed; top:44px; right:20px; z-index:200; width:44px; height:44px; border-radius:50%; background:rgba(0,0,0,0.01); color:#555; font-size:30px; border:none; backdrop-filter:blur(4px); cursor:pointer; display:flex; align-items:center; justify-content:center; overflow:hidden; }
    #musicBtn.muted::after { content:''; position:absolute; width:2px; height:60%; background:white; transform:rotate(45deg); border-radius:1px; }
    .heart {
      position: relative; display: inline-flex; align-items: center; justify-content: center;
      width: 40px; height: 41px; cursor: pointer;
    }
    .heart svg {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    }
    .heart span {
      position: relative; z-index: 1;
      color: white; font-weight: 700; font-size: 13px;
      margin-top: 1px;
    }
  </style>
</head>
<body class="bg-stone-50 text-stone-800 max-w-screen-sm mx-auto">

<!--<div id="devNotice" class="fixed top-2 left-0 right-0 mx-auto w-fit z-[300] px-4 py-2.5 rounded-xl bg-stone-800 text-white text-xs text-center flex items-center justify-center gap-2 pointer-events-none"><span>ğŸ”¨</span><span>ëª¨ë°”ì¼ ì²­ì²©ì¥ ê°œë°œ ì¤‘ ...</span></div>
-->
<!-- Info -->
<div id="info" class="grid grid-cols-2 px-6 pt-2 pb-2" style="background:linear-gradient(to bottom, #fafaf9 0%, rgba(175,168,169,0.8) 100%)">
  <p class="uppercase tracking-[0.3em] text-[10px] text-stone-500 text-left self-start">Wedding Invitation</p>
  <h1 class="text-md font-semibold text-stone-500 text-right self-start" style="font-family:'Gowun Batang',serif">ìµœìœ¤ì„ â™¥ ì •í¬ìœ¤</h1>
</div>

<!-- Hero -->
<header class="relative overflow-hidden">
  <div id="heroSlider" class="flex transition-transform duration-300 ease-in-out" style="width:200%">
    <img src="resources/card_front.jpg" alt="ìµœìœ¤ì„ ì •í¬ìœ¤ ì²­ì²©ì¥" class="w-1/2 shrink-0 block"/>
    <img src="resources/main2-3.jpg" alt="ìµœìœ¤ì„ ì •í¬ìœ¤" class="w-1/2 shrink-0 block"/>
  </div>
  <div id="heroDots" class="absolute bottom-3 left-0 right-0 flex justify-center gap-2">
    <span class="w-2 h-2 rounded-full bg-white opacity-90"></span>
    <span class="w-2 h-2 rounded-full bg-white opacity-40"></span>
  </div>
</header>

<!-- Sticky Nav -->
<nav class="sticky top-0 z-50 bg-stone-50/30 backdrop-blur-md py-2 flex justify-center gap-2">
  <a href="#" onclick="openGallery();return false" class="px-4 py-2 rounded-lg bg-stone-900 text-white text-sm">ê°¤ëŸ¬ë¦¬</a>
  <a href="#map" class="px-4 py-2 rounded-lg bg-stone-200 text-stone-900 text-sm">ì˜¤ì‹œëŠ” ê¸¸</a>
  <a href="#accounts" class="px-4 py-2 rounded-lg bg-stone-200 text-stone-900 text-sm">ë§ˆìŒ ì „í•˜ì‹¤ ê³³</a>
</nav>

<div class="flex flex-col items-center text-center px-6 pt-8 pb-2">
  <p class="text-lg text-stone-800">2026. 06. 27 (í† ) 17:00</p>
  <p class="mt-1 text-base text-stone-500">ì„œìš¸ ë”ì»¨ë²¤ì…˜ ì‹ ì‚¬ ê·¸ëœë“œë³¼ë£¸</p>
  <div id="dday" class="mt-6 text-2xl text-stone-500" style="font-family:'Playfair Display',serif"></div>
</div>

<!-- Intro -->
<section class="max-w-xl mx-auto px-6 pt-16 pb-24 fade-in">
  <div class="relative px-6 py-20 mb-8">
    <!-- ë°©ì‚¬í˜• ê·¸ë¼ë°ì´ì…˜: ellipse = íƒ€ì›(circleë¡œ ë°”ê¾¸ë©´ ì›í˜•) / 0.3 = ê°€ìš´ë° íˆ¬ëª…ë„(0~1) / 70% = í¼ì§€ëŠ” ë²”ìœ„ / -inset-y-16 = ìœ„ì•„ë˜ ì˜ì—­ í™•ì¥ -->
    <div class="absolute -inset-y-16 inset-x-0 rounded-2xl" style="background: radial-gradient(ellipse 60% 60% at center, rgba(255,105,180,0.2) 0%, transparent 60%);"></div>
    <p class="relative text-center text-sm leading-[2.8] text-stone-600" style="font-family:'Noto Serif KR',serif">
      ì„œë¡œì˜ ì´ë¦„ì„ ë¶€ë¥´ëŠ” ê²ƒë§Œìœ¼ë¡œë„<br>
      ì‚¬ë‘ì˜ ê¹Šì´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë‘ ì‚¬ëŒì´<br>
      ê½ƒê³¼ ë‚˜ë¬´ì²˜ëŸ¼ ê±¸ì–´ì™€ì„œ<br>
      ì„œë¡œì˜ ëª¨ë“  ê²ƒì´ ë˜ê¸° ìœ„í•´<br>
      ì˜¤ëœ ê¸°ë‹¤ë¦¼ ëì— í˜¼ë¡€ì‹ì„ ì¹˜ë¥´ëŠ” ë‚ <br>
      ì„¸ìƒì€ ë”ìš± ì•„ë¦„ë‹¤ì›Œë¼<br><br>
    </p>
    <p class="relative mt-4 text-center text-xs text-stone-400">- ì´í•´ì¸, &lt;ì‚¬ë‘ì˜ ì‚¬ëŒë“¤ì´ì—¬&gt;</p>
  </div>
  <p class="text-center text-sm leading-7 text-stone-600 mt-20 mb-12" style="font-family:'IBM Plex Sans KR',sans-serif;font-weight:300"><b>" ì €í¬ ë‘ ì‚¬ëŒ, ë¶€ë¶€ì˜ ì—°ì„ ë§ºì–´ í•˜ë‚˜ê°€ ë˜ê³ ì í•©ë‹ˆë‹¤.<br>ê·€í•œ ë°œê±¸ìŒìœ¼ë¡œ ìë¦¬ë¥¼ ë¹›ë‚´ì£¼ì„¸ìš”. "</b></p>
</section>

<!-- Schedule & Place -->
<section class="max-w-xl mx-auto px-6 pt-28 pb-2 fade-in">
  <h2 class="text-center text-4xl" style="font-family:'Allura',cursive">Save the Date !</h2>
</section>

<!-- Calendar -->
<section class="max-w-[360px] mx-auto px-6 pt-2 pb-16">
  <table class="w-full text-center text-base" style="table-layout:fixed">
    <thead>
      <tr><th colspan="7" class="pb-3 text-xl font-semibold tracking-wide">2026. 6</th></tr>
      <tr class="text-stone-400 text-sm">
        <th class="py-1 text-red-400">ì¼</th><th class="py-1">ì›”</th><th class="py-1">í™”</th><th class="py-1">ìˆ˜</th><th class="py-1">ëª©</th><th class="py-1">ê¸ˆ</th><th class="py-1 text-blue-400">í† </th>
      </tr>
    </thead>
    <tbody class="text-stone-600" style="border-top:8px solid transparent">
      <tr><td></td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td class="text-blue-400">6</td></tr>
      <tr><td class="text-red-400">7</td><td>8</td><td>9</td><td>10</td><td>11</td><td>12</td><td class="text-blue-400">13</td></tr>
      <tr><td class="text-red-400">14</td><td>15</td><td>16</td><td>17</td><td>18</td><td>19</td><td class="text-blue-400">20</td></tr>
      <tr><td class="text-red-400">21</td><td>22</td><td>23</td><td>24</td><td>25</td><td>26</td><td><div id="day27" class="heart"><svg viewBox="0 0 32 30" xmlns="http://www.w3.org/2000/svg"><path d="M16 28s-1.5-1-3.5-2.7C6.5 20 1 15.2 1 9.5 1 5.4 4.4 2 8.5 2c2.5 0 5 1.2 6.5 3.2h2C18.5 3.2 21 2 23.5 2 27.6 2 31 5.4 31 9.5c0 5.7-5.5 10.5-11.5 15.8C17.5 27 16 28 16 28z" fill="#F23D7F"/></svg><span>27</span><span style="position:absolute;left:100%;top:60%;transform:translateY(-50%);font-size:10px;color:#78716c;white-space:nowrap;margin-left:1.5px">5 PM</span></div></td></tr>
      <tr><td colspan="7" style="padding:0;height:0;line-height:0"><div id="calendarAction" style="max-height:0;overflow:hidden;transition:max-height 0.4s ease"><div class="flex justify-center gap-3 py-3"><a id="icsBtn2" href="#" class="px-4 py-2 rounded-xl bg-stone-900 text-white text-xs">ìº˜ë¦°ë”ì— ì¶”ê°€ (ICS)</a><a class="px-4 py-2 rounded-xl bg-stone-200 text-stone-900 text-xs" target="_blank" href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=%EC%B5%9C%EC%9C%A4%EC%84%9D+%26+%EC%A0%95%ED%9D%AC%EC%9C%A4+%EA%B2%B0%ED%98%BC%EC%8B%9D&dates=20260627T080000Z/20260627T100000Z&details=%EC%86%8C%EC%A4%91%ED%95%9C+%EB%8B%B9%EC%8B%A0%EC%9D%84+%EC%B4%88%EB%8C%80%ED%95%A9%EB%8B%88%EB%8B%A4.&location=%EC%84%9C%EC%9A%B8+%EA%B0%95%EB%82%A8%EA%B5%AC+%EA%B0%95%EB%82%A8%EB%8C%80%EB%A1%9C+652+%EB%8D%94%EC%BB%A8%EB%B2%A4%EC%85%98+%EC%8B%A0%EC%82%AC">êµ¬ê¸€ ìº˜ë¦°ë”</a></div></div></td></tr>
      <tr><td class="text-red-400">28</td><td>29</td><td>30</td><td></td><td></td><td></td><td></td></tr>
    </tbody>
  </table>
  <p class="text-center text-[12px] text-stone-400 mt-2">" ì¼ì •ì„ ëˆŒëŸ¬ ìº˜ë¦°ë”ì— ì €ì¥í•˜ì„¸ìš” "</p>
</section>
<!--
<section class="max-w-xl mx-auto px-6">
  <div class="bg-white rounded-2xl shadow-sm p-5">
    <p class="text-sm text-stone-500">ì¼ì‹œ</p>
    <p class="mt-1">2026ë…„ 6ì›” 27ì¼ (í† ) ì˜¤í›„ 5ì‹œ</p>
  </div>
</section>ì‹œ
-->
<!-- Map (Embedded) -->
<section id="map" class="bg-stone-50 pt-28 pb-20">
  <div class="max-w-xl mx-auto px-6">
    <h2 class="text-center text-xl font-semibold">ì˜¤ì‹œëŠ” ê¸¸</h2>
    <div class="mt-6 overflow-hidden rounded-2xl shadow-sm">
      <iframe title="venue map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3164.5067599983886!2d127.0190616!3d37.5195499!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x357ca3080031aca3%3A0x21f1f9d39f1a6c79!2z642U7Luo67Kk7IWYIOyLoOyCrA!5e0!3m2!1sko!2skr!4v1759234585443!5m2!1sko!2skr" width="100%" height="280" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
    <p class="mt-3 text-center text-xs text-stone-600">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ 652 ë”ì»¨ë²¤ì…˜ ì‹ ì‚¬ 4ì¸µ ê·¸ëœë“œ ë³¼ë£¸</p>
    <div class="mt-6 bg-white rounded-2xl shadow-sm p-5">
      <p class="text-sm text-stone-500">ì£¼ì°¨/ëŒ€ì¤‘êµí†µ</p>
      <ul class="mt-1 list-disc list-inside text-sm leading-7">
        <li>ì§€í•˜ì²  ì‹ ì‚¬ì—­ 3ë²ˆ ì¶œêµ¬ ë„ë³´ 7ë¶„</li>
        <li>ì˜ˆì‹ì¥ ìœ ë£Œì£¼ì°¨ (2ì‹œê°„ ë¬´ë£Œ)</li>
      </ul>
    </div>
    <div class="mt-4 flex justify-center gap-3">
      <a class="px-5 py-3 rounded-xl bg-green-500 text-white text-sm font-medium" target="_blank" href="https://naver.me/G3861Qy4">ë„¤ì´ë²„ ì§€ë„</a>
      <a class="px-5 py-3 rounded-xl bg-yellow-400 text-stone-900 text-sm font-medium" target="_blank" href="https://kko.to/0rG6GlfdZ0">ì¹´ì¹´ì˜¤ë§µ</a>
      <a class="px-5 py-3 rounded-xl bg-sky-500 text-white text-sm font-medium" href="tmap://route?goalname=%EB%8D%94%EC%BB%A8%EB%B2%A4%EC%85%98+%EC%8B%A0%EC%82%AC&goalx=127.0190616&goaly=37.5195499">T map</a>
    </div>
  </div>
</section>

<!-- Accounts -->
<section id="accounts" class="bg-stone-50 pt-32 pb-12">
  <div class="max-w-xl mx-auto px-6">
    <h2 class="text-center text-xl font-semibold">ë§ˆìŒ ì „í•˜ì‹¤ ê³³</h2>
    <div class="mt-10 grid grid-cols-1 gap-4">
      <div class="bg-white rounded-2xl shadow-sm p-5">
        <p class="text-md text-stone-500 text-center">ğŸ¤µ ì‹ ë‘ì¸¡ ğŸ’</p>
        <div class="mt-5 space-y-5 text-sm">
          <div class="flex justify-between">
            <b class="shrink-0">ìµœìœ¤ì„</b>
            <div class="text-right">
              <p>010-3996-8769 <button class="copy-btn underline text-xs" data-copy="01039968769">ë³µì‚¬</button></p>
              <p class="text-stone-400">ìš°ë¦¬ 1004-045-799347 <button class="copy-btn underline text-xs" data-copy="ìš°ë¦¬ 1004-045-799347">ë³µì‚¬</button></p>
            </div>
          </div>
          <div class="flex justify-between">
            <b class="shrink-0">ìµœí¬ìƒ</b>
            <div class="text-right">
              <p>010-5347-8769 <button class="copy-btn underline text-xs" data-copy="01053478769">ë³µì‚¬</button></p>
              <p class="text-stone-400">êµ­ë¯¼ 024-21-0922-595 <button class="copy-btn underline text-xs" data-copy="êµ­ë¯¼ 024-21-0922-595">ë³µì‚¬</button></p>
            </div>
          </div>
          <div class="flex justify-between">
            <b class="shrink-0">ì´ì§€ì—°</b>
            <div class="text-right">
              <p>010-8924-8769 <button class="copy-btn underline text-xs" data-copy="01089248769">ë³µì‚¬</button></p>
              <p class="text-stone-400">ì‹ í•œ 381-12-067563 <button class="copy-btn underline text-xs" data-copy="ì‹ í•œ 381-12-067563">ë³µì‚¬</button></p>
            </div>
          </div>
        </div>
      </div>
      <div class="bg-white rounded-2xl shadow-sm p-5">
        <p class="text-md text-stone-500 text-center">ğŸ‘° ì‹ ë¶€ì¸¡ ğŸ’</p>
        <div class="mt-5 space-y-5 text-sm">
          <div class="flex justify-between">
            <b class="shrink-0">ì •í¬ìœ¤</b>
            <div class="text-right">
              <p>010-7512-6890 <button class="copy-btn underline text-xs" data-copy="01075126890">ë³µì‚¬</button></p>
              <p class="text-stone-400">ìš°ë¦¬ 1002-854-937578 <button class="copy-btn underline text-xs" data-copy="ìš°ë¦¬ 1002-854-937578">ë³µì‚¬</button></p>
            </div>
          </div>
          <div class="flex justify-between">
            <b class="shrink-0">ì •ìš©ì„</b>
            <div class="text-right">
              <p>010-9371-5115 <button class="copy-btn underline text-xs" data-copy="01093715115">ë³µì‚¬</button></p>
              <p class="text-stone-400">ì‹ í•œ 110-007-777035 <button class="copy-btn underline text-xs" data-copy="ì‹ í•œ 110-007-777035">ë³µì‚¬</button></p>
            </div>
          </div>
          <div class="flex justify-between">
            <b class="shrink-0">ìµœì„±í¬</b>
            <div class="text-right">
              <p>010-8371-6946 <button class="copy-btn underline text-xs" data-copy="01083716946">ë³µì‚¬</button></p>
              <p class="text-stone-400">êµ­ë¯¼ 823301-01-472235 <button class="copy-btn underline text-xs" data-copy="êµ­ë¯¼ 823301-01-472235">ë³µì‚¬</button></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<footer class="py-10 text-center text-xs text-stone-400 space-y-1">
  <p>ìœ¤ì„ & í¬ìœ¤, ì„œë¡œ ì•„ë¼ë©° í–‰ë³µí•˜ê²Œ ì‚´ê² ìŠµë‹ˆë‹¤!</p>
  <p class="text-[8px]">&copy; 2026 Heeyoon Jeong. All rights reserved.</p>
</footer>

<!-- Background music -->
<audio id="bgmAudio" src="bgm.mp3" loop preload="auto"></audio>

<!-- Music toggle button -->
<button id="musicBtn" class="muted" aria-label="ìŒì•… í† ê¸€">â™ª</button>

<!-- Gallery Overlay -->
<div id="galleryOverlay" class="fixed inset-0 z-[100] bg-stone-50 overflow-y-auto" style="display:none">
  <div class="max-w-screen-sm mx-auto min-h-screen">
    <div id="galleryNotice" class="mx-3 mt-2 mb-0 px-4 py-2.5 rounded-xl bg-stone-800 text-white text-xs text-center flex items-center justify-center gap-2">
      <span>ğŸ“·</span><span>ì‚¬ì§„ ì¤€ë¹„ ì¤‘ ...</span>
    </div>
    <div class="flex items-center justify-between px-6 py-4">
      <a href="#" onclick="closeGallery();return false" class="text-sm text-stone-500">&larr; ëŒì•„ê°€ê¸°</a>
      <h1 class="text-lg font-semibold text-stone-800">Moments!</h1>
      <span class="w-16"></span>
    </div>
    <div class="px-3 pb-10 grid grid-cols-2 gap-2" id="galleryGrid">
      <img onclick="openLightbox(0)" class="rounded-lg object-cover aspect-[4/5] w-full cursor-pointer" src="resources/pic1.jpg" alt="gallery1"/>
      <img onclick="openLightbox(1)" class="rounded-lg object-cover aspect-[4/5] w-full cursor-pointer" src="resources/pic1-2.jpg" alt="gallery1-2"/>
      <img onclick="openLightbox(2)" class="rounded-lg object-cover aspect-[4/5] w-full cursor-pointer" src="resources/pic2.jpg" alt="gallery2"/>
      <img onclick="openLightbox(3)" class="rounded-lg object-cover aspect-[4/5] w-full cursor-pointer" src="resources/pic3.jpg" alt="gallery3"/>
      <img onclick="openLightbox(4)" class="rounded-lg object-cover aspect-[4/5] w-full cursor-pointer" src="resources/pic4.jpg" alt="gallery4"/>
      <img onclick="openLightbox(5)" class="rounded-lg object-cover aspect-[4/5] w-full cursor-pointer" src="resources/pic5.jpg" alt="gallery5"/>
      <img onclick="openLightbox(6)" class="rounded-lg object-cover aspect-[4/5] w-full cursor-pointer" src="resources/pic6.jpg" alt="gallery6"/>
      <img onclick="openLightbox(7)" class="rounded-lg object-cover aspect-[4/5] w-full cursor-pointer" src="resources/pic6-5.jpg" alt="gallery6-5"/>
      <img onclick="openLightbox(8)" class="rounded-lg object-cover aspect-[4/5] w-full cursor-pointer" src="resources/pic7-2.jpg" alt="gallery7"/>
      <img onclick="openLightbox(9)" class="rounded-lg object-cover aspect-[4/5] w-full cursor-pointer" src="resources/pic8.jpg" alt="gallery8"/>
    </div>
  </div>
</div>

<!-- Lightbox -->
<div id="lightbox" class="fixed inset-0 z-[200] bg-black/90 flex items-center justify-center">
  <button onclick="closeLightbox()" class="absolute top-4 right-4 text-white text-3xl z-10">&times;</button>
  <button onclick="prevPhoto()" class="absolute left-2 top-1/2 -translate-y-1/2 text-white text-4xl z-10 p-2">&#8249;</button>
  <button onclick="nextPhoto()" class="absolute right-2 top-1/2 -translate-y-1/2 text-white text-4xl z-10 p-2">&#8250;</button>
  <img id="lightboxImg" class="max-w-[90vw] max-h-[85vh] object-contain rounded-lg" src="" alt="photo"/>
</div>

<script>
  // D-DAY countdown (set to local time 2026-06-27 17:00 KST)
  const ddayEl = document.getElementById('dday');
  const target = new Date('2026-06-27T17:00:00+09:00').getTime();
  const pad = (n)=> String(n).padStart(2,'0');
  function tick(){
    const now = Date.now();
    const diff = Math.max(0, target - now);
    const days = Math.floor(diff / (1000*60*60*24));
    const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
    const mins = Math.floor((diff % (1000*60*60)) / (1000*60));
    const secs = Math.floor((diff % (1000*60)) / 1000);
    ddayEl.textContent = `D-${days}  ${pad(hours)}:${pad(mins)}:${pad(secs)}`;
  }
  tick(); setInterval(tick, 1000);

  // ì‚¬ìš©ìê°€ ë¨¼ì € ìŠ¤í¬ë¡¤í•˜ë©´ ìë™ ìŠ¤í¬ë¡¤ ì·¨ì†Œ
  let userScrolled = false;
  window.addEventListener('scroll', () => { userScrolled = true; }, { once: true });
  window.addEventListener('touchmove', () => { userScrolled = true; }, { once: true });

  // 2ì´ˆ í›„ ì‚¬ì§„ ì•„ë˜ë¡œ ì²œì²œíˆ ìŠ¤í¬ë¡¤
  setTimeout(() => {
    if (userScrolled) return;
    const target = document.getElementById('info').offsetTop;
    const start = window.scrollY;
    const distance = target - start;
    const duration = 2000;
    let startTime = null;
    function step(time) {
      if (!startTime) startTime = time;
      const progress = Math.min((time - startTime) / duration, 1);
      const ease = 1 - Math.pow(1 - progress, 3);
      window.scrollTo(0, start + distance * ease);
      if (progress < 1) requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  }, 2000);

  // Copy buttons (phone/account)
  document.querySelectorAll('.copy-btn').forEach(btn=>{
    btn.addEventListener('click', async ()=>{
      try{ await navigator.clipboard.writeText(btn.dataset.copy); btn.textContent='ë³µì‚¬ë¨'; setTimeout(()=>btn.textContent='ë³µì‚¬',1500);}catch{alert('ë³µì‚¬ ì‹¤íŒ¨')}
    })
  })

  // 27ì¼ í´ë¦­ ì‹œ ì¼ì • ì¶”ê°€ ë²„íŠ¼ í† ê¸€ (ì• ë‹ˆë©”ì´ì…˜)
  const calRow = document.getElementById('calendarAction');
  let calOpen = false;
  document.getElementById('day27').addEventListener('click', () => {
    calOpen = !calOpen;
    calRow.style.maxHeight = calOpen ? '60px' : '0';
  });

  // ICS ë‹¤ìš´ë¡œë“œ
  function downloadICS(e) {
    e.preventDefault();
    const now = new Date(); const stamp = now.toISOString().replace(/[-:]/g,'').replace(/\.\d+/,'');
    const ics = `BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//heeyoon//wedding//KR\nBEGIN:VEVENT\nUID:${Date.now()}@heeyoon-wedding\nDTSTAMP:${stamp}\nDTSTART:20260627T080000Z\nDTEND:20260627T100000Z\nSUMMARY:ìµœìœ¤ì„ & ì •í¬ìœ¤ ê²°í˜¼ì‹\nLOCATION:ì„œìš¸ ê°•ë‚¨êµ¬ ë”ì»¨ë²¤ì…˜ ì‹ ì‚¬ ê·¸ëœë“œë³¼ë£¸\nDESCRIPTION:ì†Œì¤‘í•œ ë‹¹ì‹ ì„ ì´ˆëŒ€í•©ë‹ˆë‹¤.\nEND:VEVENT\nEND:VCALENDAR`;
    const blob = new Blob([ics], {type:'text/calendar'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url; a.download = 'wedding.ics'; a.click();
    URL.revokeObjectURL(url);
  }
  document.getElementById('icsBtn2').addEventListener('click', downloadICS);

  // â”€â”€ Hero Slider â”€â”€
  const heroSlider = document.getElementById('heroSlider');
  const heroDots = document.querySelectorAll('#heroDots span');
  let heroIndex = 0;
  let heroStartX = 0;
  let heroStartY = 0;
  let heroDragging = false;

  heroSlider.addEventListener('touchstart', (e) => {
    heroStartX = e.touches[0].clientX;
    heroStartY = e.touches[0].clientY;
    heroDragging = true;
    heroSlider.style.transition = 'none';
  });
  heroSlider.addEventListener('touchmove', (e) => {
    if (!heroDragging) return;
    const dx = e.touches[0].clientX - heroStartX;
    const dy = e.touches[0].clientY - heroStartY;
    if (Math.abs(dx) > Math.abs(dy)) e.preventDefault();
    const offset = -heroIndex * 50 + (dx / heroSlider.parentElement.offsetWidth) * 50;
    heroSlider.style.transform = `translateX(${offset}%)`;
  }, { passive: false });
  heroSlider.addEventListener('touchend', (e) => {
    if (!heroDragging) return;
    heroDragging = false;
    heroSlider.style.transition = 'transform 0.3s ease-in-out';
    const dx = e.changedTouches[0].clientX - heroStartX;
    if (dx < -50 && heroIndex < 1) heroIndex = 1;
    else if (dx > 50 && heroIndex > 0) heroIndex = 0;
    heroSlider.style.transform = `translateX(${-heroIndex * 50}%)`;
    heroDots.forEach((d, i) => d.style.opacity = i === heroIndex ? '0.9' : '0.4');
  });

  // Mouse drag for PC
  heroSlider.addEventListener('mousedown', (e) => {
    heroStartX = e.clientX;
    heroDragging = true;
    heroSlider.style.transition = 'none';
    heroSlider.style.cursor = 'grabbing';
    e.preventDefault();
  });
  heroSlider.addEventListener('mousemove', (e) => {
    if (!heroDragging) return;
    const dx = e.clientX - heroStartX;
    const offset = -heroIndex * 50 + (dx / heroSlider.parentElement.offsetWidth) * 50;
    heroSlider.style.transform = `translateX(${offset}%)`;
  });
  heroSlider.addEventListener('mouseleave', finishHeroDrag);
  heroSlider.addEventListener('mouseup', finishHeroDrag);
  function finishHeroDrag(e) {
    if (!heroDragging) return;
    heroDragging = false;
    heroSlider.style.transition = 'transform 0.3s ease-in-out';
    heroSlider.style.cursor = '';
    const dx = e.clientX - heroStartX;
    if (dx < -50 && heroIndex < 1) heroIndex = 1;
    else if (dx > 50 && heroIndex > 0) heroIndex = 0;
    heroSlider.style.transform = `translateX(${-heroIndex * 50}%)`;
    heroDots.forEach((d, i) => d.style.opacity = i === heroIndex ? '0.9' : '0.4');
  }

  // â”€â”€ Gallery Overlay â”€â”€
  const galleryOverlay = document.getElementById('galleryOverlay');
  let savedScrollY = 0;

  function openGallery() {
    savedScrollY = window.scrollY;
    galleryOverlay.style.display = '';
    galleryOverlay.className = 'fixed inset-0 z-[100] bg-stone-50 overflow-y-auto open';
    document.body.style.overflow = 'hidden';
    galleryOverlay.scrollTop = 0;
  }

  function closeGallery() {
    galleryOverlay.classList.remove('open');
    galleryOverlay.classList.add('closing');
    galleryOverlay.addEventListener('animationend', function handler() {
      galleryOverlay.removeEventListener('animationend', handler);
      galleryOverlay.style.display = 'none';
      galleryOverlay.className = 'fixed inset-0 z-[100] bg-stone-50 overflow-y-auto';
      document.body.style.overflow = '';
      window.scrollTo(0, savedScrollY);
    });
  }

  // â”€â”€ Lightbox â”€â”€
  const galleryPhotos = [
    'resources/pic1.jpg',
    'resources/pic1-2.jpg',
    'resources/pic2.jpg',
    'resources/pic3.jpg',
    'resources/pic4.jpg',
    'resources/pic5.jpg',
    'resources/pic6.jpg',
    'resources/pic6-5.jpg',
    'resources/pic7-2.jpg',
    'resources/pic8.jpg'
  ];
  let currentPhoto = 0;
  const lightbox = document.getElementById('lightbox');
  const lightboxImg = document.getElementById('lightboxImg');

  function openLightbox(index) {
    currentPhoto = index;
    lightboxImg.src = galleryPhotos[currentPhoto];
    lightbox.classList.add('open');
  }
  function closeLightbox() {
    lightbox.classList.remove('open');
  }
  function prevPhoto() {
    currentPhoto = (currentPhoto - 1 + galleryPhotos.length) % galleryPhotos.length;
    lightboxImg.src = galleryPhotos[currentPhoto];
  }
  function nextPhoto() {
    currentPhoto = (currentPhoto + 1) % galleryPhotos.length;
    lightboxImg.src = galleryPhotos[currentPhoto];
  }

  // Touch swipe for lightbox
  let touchStartX = 0;
  lightbox.addEventListener('touchstart', (e) => { touchStartX = e.changedTouches[0].screenX; });
  lightbox.addEventListener('touchend', (e) => {
    const diff = e.changedTouches[0].screenX - touchStartX;
    if (Math.abs(diff) > 50) {
      if (diff > 0) prevPhoto(); else nextPhoto();
    }
  });

  // Close lightbox on background click
  lightbox.addEventListener('click', (e) => { if (e.target === lightbox) closeLightbox(); });

  // â”€â”€ Background Music â”€â”€
  const bgmAudio = document.getElementById('bgmAudio');
  let musicPlaying = false;
  const musicBtn = document.getElementById('musicBtn');

  // ì²« í´ë¦­ ì‹œ ìë™ ì¬ìƒ (clickë§Œ ì‚¬ìš© â€” touchstart ì œì™¸ë¡œ ëª¨ë°”ì¼ ì¤‘ë³µ ë°©ì§€)
  function startOnFirstClick() {
    if (!musicPlaying) {
      bgmAudio.play();
      musicPlaying = true;
      musicBtn.classList.remove('muted');
    }
    document.removeEventListener('click', startOnFirstClick);
  }
  document.addEventListener('click', startOnFirstClick);

  musicBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    if (musicPlaying) {
      bgmAudio.pause();
      musicPlaying = false;
      musicBtn.classList.add('muted');
    } else {
      bgmAudio.play();
      musicPlaying = true;
      musicBtn.classList.remove('muted');
    }
  });

</script>
</body>
</html>
